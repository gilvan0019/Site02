<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OCR Upload</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="app">
    <h1>Upload de Arquivos (PDF / Imagem)</h1>

    <!-- UPLOAD -->
    <label class="upload-box" for="fileInput">
      <input 
        type="file"
        id="fileInput"
        multiple
        accept=".pdf,image/jpeg,image/jpg,image/png"
      />
      <p>Arraste os arquivos aqui ou clique para selecionar</p>
      <span>Formatos aceitos: PDF, JPG, JPEG, PNG</span>
    </label>

    <!-- LISTA DE ARQUIVOS -->
    <div class="file-list" id="fileList"></div>

    <!-- SAÍDA OCR -->
    <div class="output">
      <label for="ocrText">Texto extraído</label>
      <textarea
        id="ocrText"
        placeholder="O texto extraído aparecerá aqui..."
        readonly
      ></textarea>
    </div>
  </div>

  <!-- JS -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const input = document.getElementById('fileInput');
      const fileList = document.getElementById('fileList');
      const output = document.getElementById('ocrText');

      input.addEventListener('change', () => {
        fileList.innerHTML = '';
        output.value = '';

        const files = Array.from(input.files);

        if (files.length === 0) return;

        files.forEach(file => {
          const item = document.createElement('div');
          item.className = 'file-item';

          const name = document.createElement('strong');
          name.textContent = file.name;

          const size = document.createElement('span');
          size.textContent = formatSize(file.size);

          item.appendChild(name);
          item.appendChild(size);
          fileList.appendChild(item);
        });
      });

      function formatSize(bytes) {
        if (bytes < 1024) return bytes + ' B';
        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
      }
    });
  </script>

</body>
</html>
